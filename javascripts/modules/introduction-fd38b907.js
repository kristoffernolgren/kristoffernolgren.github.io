var Introduction=function(t){this.container=$(t),this.setSize()};Introduction.prototype.init=function(){!app.mobile&&window.WebGLRenderingContext&&(this.engine=Matter.Engine.create(this.container.get(0),{render:{options:{wireframes:!1,width:this.width,height:this.height}}}),this.events=Matter.Events,this.engine.enableSleeping=!0,this.setBounds(),this.addObjects(),this.addStatic(),this.zeroGravity(),this.canvas=this.container.find("canvas"),this.setTimescale(.9),Matter.Engine.run(this.engine),this.running=!0,setTimeout("app.Introduction.appear()",100),setTimeout("app.Introduction.removeMouseEvents()",100))},Introduction.prototype.appear=function(){app.Introduction.checkSpeed(),this.canvas.addClass("active"),this.checkSpeedInterval=setInterval("app.Introduction.checkSpeed()",500),this.viewportInterval=setInterval("app.Introduction.checkViewport()",1e3)},Introduction.prototype.checkViewport=function(){if(Utils.inViewport(this.container.get(0))){if(app.Introduction.running)return;app.Introduction.running=!0,Matter.Runner.run(app.Introduction.engine)}else{if(!app.Introduction.running)return;app.Introduction.running=!1,Matter.Runner.stop(app.Introduction.engine)}},Introduction.prototype.resize=function(){try{var t=window.innerWidth-15,e=window.innerHeight;app.Introduction.width=t,app.Introduction.height=e,app.Introduction.canvas.width=t,app.Introduction.canvas.height=e,$(app.Introduction.canvas).attr("style","width: "+t+"px; height: "+e+"px;")}catch(i){}this.init()},Introduction.prototype.startResize=function(){clearInterval(this.checkSpeedInterval);try{var t=this;Matter.Runner.stop(t.engine),Matter.Engine.clear(t.engine),this.engine.world.bodies=void 0,this.engine.world=void 0,this.engine=void 0,this.events=void 0,this.canvas.remove()}catch(e){}},Introduction.prototype.setSize=function(){this.width=window.innerWidth,this.height=window.innerHeight},Introduction.prototype.removeMouseEvents=function(){this.canvas.off("mousewheel",document.body),this.canvas.off("DOMMouseScroll",document.body)},Introduction.prototype.setBounds=function(){this.engine.world.bounds={min:{x:-1/0,y:-1/0},max:{x:1/0,y:1/0}}},Introduction.prototype.zeroGravity=function(){this.engine.world.gravity.y=0,this.engine.world.gravity.x=0},Introduction.prototype.addObjects=function(){this.doodleCircle=Matter.Bodies.circle(90,90,94,{mass:2,restitution:1,frictionAir:0,friction:0,sleepThreshold:1/0,render:{sprite:{xScale:.5,yScale:.5,texture:"/images/icons-png/icon-doodle-circle-ebe21311.png"}}}),this.doodleCircleMini=Matter.Bodies.circle(this.ranPos().x,this.ranPos().y,40,{mass:1,restitution:1,frictionAir:0,friction:0,sleepThreshold:1/0,render:{sprite:{xScale:.5,yScale:.5,texture:"/images/icons-png/icon-doodle-circle-mini-53d4e594.png"}}}),this.doodleLine=Matter.Bodies.rectangle(this.ranPos().x,this.ranPos().y,200,24,{mass:2,restitution:1,frictionAir:0,friction:0,sleepThreshold:1/0,render:{sprite:{xScale:.5,yScale:.5,texture:"/images/icons-png/icon-doodle-line-17d85da7.png"}}}),this.doodleTriangle=Matter.Bodies.polygon(this.width-100,90,3,90,{mass:2,restitution:1,frictionAir:0,friction:0,sleepThreshold:1/0,render:{sprite:{xScale:.5,yScale:.5,texture:"/images/icons-png/icon-doodle-triangle-10f1e46b.png"}}}),this.doodleWave=Matter.Bodies.rectangle(203,this.height-130,203,24,{rotation:100,mass:2,restitution:1,frictionAir:0,friction:0,sleepThreshold:1/0,render:{sprite:{xScale:.5,yScale:.5,texture:"/images/icons-png/icon-doodle-wave-e291aea7.png"}}}),this.doodleX=Matter.Bodies.rectangle(this.width-300,this.height-100,39,39,{mass:2,restitution:1,frictionAir:0,friction:0,sleepThreshold:1/0,render:{sprite:{xScale:.5,yScale:.5,texture:"/images/icons-png/icon-doodle-x-a4258601.png"}}}),this.objects=[this.doodleCircle,this.doodleCircleMini,this.doodleLine,this.doodleTriangle,this.doodleWave,this.doodleX],Matter.World.add(this.engine.world,this.objects),Matter.Body.rotate(this.doodleWave,45)},Introduction.prototype.checkSpeed=function(){bodies=Matter.Composite.allBodies(this.engine.world);for(var t=0;t<bodies.length;t++){var e=bodies[t];e.isStatic||e.motion<.13&&app.Introduction.applyForce(e,.007)}},Introduction.prototype.applyForce=function(t,e){var e=e*t.mass;Matter.Body.applyForce(t,{x:0,y:0},{x:(e+Math.random()*e)*this.choose(),y:(-e+Math.random()*-e)*this.choose()})},Introduction.prototype.ranPos=function(){var t=100,e=120,i={x:this.width/2-Math.random()*t,y:this.height/2+Math.random()*e};return i},Introduction.prototype.addStatic=function(){var t=24,e={isStatic:!0,restitution:0,frictionAir:0,friction:0,mass:0,render:{visible:!1}};Matter.World.add(this.engine.world,[Matter.Bodies.rectangle(window.innerWidth/2,-t,window.innerWidth+2*t,50.5,e),Matter.Bodies.rectangle(window.innerWidth/2,window.innerHeight+t,window.innerWidth+2*t,50.5,e),Matter.Bodies.rectangle(window.innerWidth+t,window.innerHeight/2,50.5,window.innerHeight+2*t,e),Matter.Bodies.rectangle(-t,window.innerHeight/2,50.5,window.innerHeight+2*t,e)])},Introduction.prototype.setTimescale=function(t){for(var e=Matter.Composite.allBodies(this.engine.world),i=0;i<e.length;i++){var n=e[i];n.isStatic||(n.timeScale=t)}},Introduction.prototype.explode=function(t){for(var t=null==t?2:t,e=Matter.Composite.allBodies(this.engine.world),i=0;i<e.length;i++){var n=e[i];if(!n.isStatic){var t=t*n.mass;Matter.Body.applyForce(n,{x:0,y:0},{x:(t+Math.random()*t)*this.choose(),y:(-t+Math.random()*-t)*this.choose()})}}},Introduction.prototype.bounce=function(){this.engine.world.gravity.y=this.round(),this.engine.world.gravity.x=this.round()},Introduction.prototype.choose=function(){var t=[1,-1];return t[Math.round(Math.random())]},Introduction.prototype.round=function(){return Math.random()/this.choose()};