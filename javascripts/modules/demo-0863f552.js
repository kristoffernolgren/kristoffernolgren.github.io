var Demo=function(t){this.el=t,this.rotation=0,this.container=$(t).find(".demo__image-container"),this.replay=$(t).find(".demo__replay"),this.replayIcon=$(t).find(".demo__replay-icon"),this.image=$(t).find(".demo__placeholder"),this.activated=!1,this.setListeners()};Demo.prototype.setListeners=function(){var t=this;this.replay.on("click",function(i){i.preventDefault(),t.rotate(),t.reset()})},Demo.prototype.rotate=function(){this.rotation+=360,this.replayIcon.attr("style","transform: rotate("+this.rotation+"deg); -webkit-transform: rotate("+this.rotation+"deg);")},Demo.prototype.activate=function(){var t=app.mobile?100:400,i=0===Utils.inViewport(this.image.get(0),t).length;i||this.activated||(this.image.attr("src",this.image.attr("data-gif")),this.activated=!0)},Demo.prototype.reset=function(){var t,i;t=0,i=this,this.activated=!1,this.container.addClass("demo__image-container--loading"),this.container.on(Utils.transitionEnd(),function(){0===t&&(i.container.removeClass("demo__image-container--loading"),i.activate()),t+=1})};